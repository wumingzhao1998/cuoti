# 错题思维应用 - 产品需求文档 (PRD)

## 1. 产品概述

### 1.1 产品定位
一款面向家长和学生的智能错题管理应用，通过AI技术帮助学生系统化地收集、分析、学习和巩固错题，提升学习效率和解题能力。

### 1.2 目标用户
- **主要用户**：小学到高中的学生家长
- **次要用户**：学生本人（高年级）
- **使用场景**：家庭作业辅导、错题整理、知识点巩固

### 1.3 核心价值
- 自动化错题收集，减少手动录入工作
- 智能引导思考，培养解题思维
- 个性化练习，针对性提升薄弱环节
- 数据化学习轨迹，可视化学习进步

---

## 2. 功能需求

### 2.1 错题录入模块

#### 2.1.1 拍照识别功能
**功能描述**：通过拍照自动识别题目内容

**实现方案**：
- **方案一（推荐）**：使用豆包API的图片识别功能，支持单题识别
- **方案二**：使用OCR技术（如百度OCR、腾讯OCR）+ AI大模型识别题目边界
- **方案三**：使用专门的作业识别API（如作业帮、小猿搜题等开放API）

**功能细节**：
- 支持拍照和相册选择
- 自动识别题目区域（支持单题和多题）
- 识别题目类型（数学、语文、英语等）
- 识别题目难度等级（可选）
- 支持手动调整识别区域
- 识别结果预览和确认

**数据流向**：
```
拍照 → 图片识别 → 题目文本提取 → 飞书多维表格（错题原题字段）
```

#### 2.1.2 去手写处理
**功能描述**：自动去除照片中的手写痕迹，生成干净的题目图片

**实现方案**：
- 使用图像处理算法去除手写笔迹
- 或使用AI模型（如PaddleOCR的去手写功能）
- 保留题目原始图片，同时生成去手写版本

**功能细节**：
- 自动检测并去除手写内容
- 保留题目框架和印刷内容
- 支持手动标记需要去除的区域
- 去手写结果预览
- 保存原图和去手写图到飞书多维表格

**数据存储**：
- 原图：保存到飞书多维表格的"错题原题"字段（图片类型）
- 去手写图：保存到"去手写"字段（图片类型）

#### 2.1.3 错题分类标记
**功能描述**：记录错题的原因类型

**功能细节**：
- 提供两个选项：
  - **不会**：完全不会，需要引导思考
  - **做错**：会做但做错了，需要分析错误原因
- 选择结果保存到飞书多维表格的"不会/做错"字段
- 支持后续修改分类

**数据字段**：
- 字段名：`不会/做错`
- 字段类型：单选
- 选项值：`不会`、`做错`

---

### 2.2 智能引导学习模块

#### 2.2.1 苏格拉底式提问
**功能描述**：通过AI生成一系列引导性问题，帮助学生自主思考解题思路

**实现方案**：
- 使用DeepSeek大语言模型分析题目
- 根据题目类型和知识点生成引导性问题
- 采用苏格拉底式教学法，逐步引导而非直接给答案


**功能细节**：
- **题目分析**：AI分析题目涉及的知识点、解题思路
- **问题生成**：生成3-5个递进式引导问题
- **互动对话**：学生回答后，AI根据回答继续提问
- **思路总结**：最终形成完整的解题思路
- **保存记录**：将引导过程和思路保存到飞书多维表格

**示例流程**：
```
题目：计算 2x + 3 = 11 中 x 的值

AI提问1：这个方程中，x 是我们要求的未知数，那么 2x 表示什么意思？
学生回答：2乘以x

AI提问2：很好！那么如果我们想让 x 单独在一边，应该先做什么？
学生回答：先减去3

AI提问3：对！那么 2x = 11 - 3 = 8，接下来怎么得到 x 的值？
学生回答：除以2

AI总结：很好！解题思路是：移项 → 化简 → 求解
```

**数据存储**：
- 引导问题列表：保存到"引导问题"字段（多行文本）
- 学生回答记录：保存到"思考过程"字段（多行文本）
- 最终思路：保存到"解题思路"字段（多行文本）

#### 2.2.2 解题清单/口诀生成
**功能描述**：将解题思路固化为可复用的解题清单或记忆口诀

**功能细节**：
- 根据题目类型和解题思路，生成标准化的解题步骤清单
- 对于需要记忆的内容，生成朗朗上口的口诀
- 支持自定义修改清单和口诀
- 相同类型的题目可以复用同一套清单

**示例**：
- **解题清单**：
  1. 读题，找出已知条件和未知数
  2. 列出等量关系
  3. 移项，将未知数移到一边
  4. 化简计算
  5. 检验答案

- **记忆口诀**：
  "方程求解三步走，移项化简再检验"

**数据存储**：
- 解题清单：保存到"解题清单"字段（多行文本或结构化数据）
- 记忆口诀：保存到"记忆口诀"字段（文本）

---

### 2.3 刻意练习模块

#### 2.3.1 母题标记
**功能描述**：将错题标记为母题，作为生成练习题的来源

**功能细节**：
- 错题自动标记为母题
- 支持手动标记/取消标记母题
- 记录母题的知识点标签

#### 2.3.2 反馈题生成
**功能描述**：基于母题生成有针对性的练习题

**实现方案**：
- 使用AI大模型分析母题的知识点、难度、解题方法
- 生成同类型但不同数值/场景的练习题
- 确保题目难度适中，循序渐进

**功能细节**：
- **题目生成**：
  - 保持相同的知识点和解题思路
  - 改变数值、场景或表达方式
  - 生成3-5道不同难度的练习题
- **难度分级**：
  - 基础题：与母题难度相当
  - 进阶题：略高于母题
  - 挑战题：综合应用
- **生成策略**：
  - 针对"不会做"的题目：生成更多基础题
  - 针对"做错了"的题目：生成相似题和易错点题
- **题目展示**：以卡片或列表形式展示，支持在线作答

**数据存储**：
- 反馈题列表：保存到"反馈题"字段（关联多条记录）
- 或创建独立的"反馈题"数据表，关联到母题

#### 2.3.3 练习记录与反馈
**功能描述**：记录练习过程和结果，提供学习反馈

**功能细节**：
- 记录每道反馈题的作答情况
- 统计正确率
- 分析薄弱环节
- 推荐下一步学习计划

**数据存储**：
- 练习记录：保存到"练习记录"字段或独立数据表
- 包含：题目、答案、是否正确、用时等

---

### 2.4 数据管理模块

#### 2.4.1 飞书多维表格集成
**功能描述**：与飞书多维表格深度集成，实现数据同步

**数据表结构设计**：

**主表：错题本**

| 字段名 | 字段类型 | 说明 |
|--------|---------|------|
| 创建时间 | 日期时间 | 添加错题的时间，默认为添加新记录的创建时间 |
| 学科 | 单选 | 数学/语文/英语 |
| 错题原题 | 附件 | 原始错题照片 |
| 去手写 | 附件 | 去除手写后的题目图片 |
| 知识点 | 多选 | 关联知识点标签 |
| 不会/做错 | 单选 | 不会/做错 |
| 不会/做错原因 | 文本 | 不会/做错的原因 |
| 引导问题 | 文本 | AI生成的引导问题 |
| 思考过程 | 文本 | 学生思考过程记录 |
| 解题思路 | 文本 | 最终形成的解题思路 |
| 解题清单 | 文本 | 标准化的解题步骤 |
| 记忆口诀 | 文本 | 记忆口诀 |
| 是否母题 | 单选 | 是/否 |
| 掌握程度 | 单选 | 未掌握/掌握中/已掌握 |
| 最后复习时间 | 日期时间 | 最后复习时间 |
| 复习次数 | 数字 | 复习次数统计 |

**关联表：反馈题**

| 字段名 | 字段类型 | 说明 |
|--------|---------|------|
| 创建时间 | 日期时间 | 添加错题的时间，默认为添加新记录的创建时间 |
| 母题ID | 关联 | 关联到错题本 |
| 题目内容 | 文本 | 反馈题题目 |
| 难度 | 单选 | 基础/进阶/挑战 |
| 答案 | 文本 | 标准答案 |
| 学生答案 | 文本 | 学生作答答案 |
| 是否正确 | 单选 | 正确/错误 |


**API集成**：
- 使用飞书开放平台API
- 实现数据的增删改查
- 支持图片上传
- 支持批量操作

#### 2.4.2 数据统计与分析
**功能描述**：提供学习数据可视化分析

**功能细节**：
- **错题统计**：
  - 各科目错题数量
  - 各知识点错题分布
  - 不会做 vs 做错了的比例
- **学习进度**：
  - 掌握程度分布
  - 复习频率统计
  - 学习时间趋势
- **能力分析**：
  - 薄弱知识点识别
  - 进步曲线展示
  - 练习正确率趋势

**展示方式**：
- 图表展示（柱状图、饼图、折线图）
- 数据报表
- 可导出Excel

---

### 2.5 复习提醒模块

#### 2.5.1 智能复习计划
**功能描述**：基于艾宾浩斯遗忘曲线制定复习计划

**功能细节**：
- 自动计算复习时间点（1天后、3天后、7天后、15天后、30天后）
- 根据掌握程度调整复习频率
- 生成每日复习任务清单
- 支持手动调整复习计划

#### 2.5.2 复习提醒
**功能描述**：及时提醒用户复习错题

**功能细节**：
- 推送通知提醒复习
- 显示待复习题目数量
- 支持设置提醒时间
- 支持微信/短信提醒（可选）

---

### 2.6 用户管理模块

#### 2.6.1 多孩子支持
**功能描述**：支持管理多个孩子的错题本

**功能细节**：
- 支持添加多个孩子
- 每个孩子独立的错题本
- 快速切换查看不同孩子的数据
- 数据隔离，互不影响

#### 2.6.2 权限管理
**功能描述**：区分家长和孩子的使用权限

**功能细节**：
- 家长端：完整功能，包括录入、查看、分析
- 孩子端：主要查看和练习功能，简化界面

---

## 3. 技术架构

### 3.1 技术栈建议

**前端**：
- 移动端：React Native / Flutter / 微信小程序
- Web端：React / Vue（可选，用于数据查看）

**后端**：
- 语言：Python / Node.js
- 框架：FastAPI / Express
- AI服务：豆包API / OpenAI API / 其他大模型API

**第三方服务**：
- 图片识别：豆包API / OCR服务
- 去手写：图像处理库 / AI模型
- 数据存储：飞书多维表格API
- 文件存储：飞书云文档 / 对象存储（OSS）

### 3.2 核心流程

```
用户拍照 
  → 图片识别（豆包API）
  → 题目文本提取
  → 去手写处理
  → 用户选择"不会/做错"
  → 保存到飞书多维表格
  → AI生成引导问题
  → 互动对话引导思考
  → 生成解题清单/口诀
  → 标记为母题
  → 生成反馈题
  → 练习记录
  → 复习提醒
```

---

## 4. 用户体验设计

### 4.1 核心流程

**错题录入流程**：
1. 打开应用，点击"拍照录入"
2. 拍照或选择相册图片
3. 自动识别题目（显示识别结果，可手动调整）
4. 自动去手写（显示去手写结果）
5. 选择"不会做"或"做错了"
6. 确认保存

**学习引导流程**：
1. 在错题列表中选择一道错题
2. 点击"开始思考"
3. AI逐步提问，学生回答
4. 形成解题思路
5. 生成解题清单和口诀
6. 保存学习记录

**练习流程**：
1. 选择母题
2. 点击"生成练习题"
3. 逐题作答
4. 查看答案和解析
5. 记录练习结果

### 4.2 界面设计原则
- 简洁直观，适合家长快速操作
- 色彩温和，适合学习场景
- 大字体，易于阅读
- 操作步骤少，流程顺畅

---

## 5. 非功能性需求

### 5.1 性能要求
- 图片识别响应时间 < 3秒
- 去手写处理时间 < 5秒
- AI对话响应时间 < 5秒
- 数据同步延迟 < 2秒

### 5.2 安全要求
- 用户数据加密存储
- API调用使用安全认证
- 图片隐私保护
- 符合数据保护法规

### 5.3 可用性要求
- 支持离线识别（可选）
- 网络异常时提示和重试
- 数据本地缓存
- 支持数据导出备份

---

## 6. 开发计划

### 6.1 MVP版本（最小可行产品）
**核心功能**：
1. 拍照识别题目
2. 去手写处理
3. 保存到飞书多维表格
4. 标记不会/做错
5. 基础的数据查看
6. 苏格拉底式提问引导
7. 解题清单/口诀生成
8. 反馈题生成
9. 基础数据统计

**开发周期**：2-3周

### 6.2 V1.0版本
**增加功能**：
1. 复习提醒系统
2. 多孩子支持
3. 高级数据分析
4. 学习报告生成

**开发周期**：6-8周

---

## 7. 风险评估

### 7.1 技术风险
- **图片识别准确率**：需要测试不同场景下的识别效果
- **去手写效果**：可能无法完全去除所有手写痕迹
- **AI生成质量**：引导问题和反馈题的质量需要持续优化

### 7.2 业务风险
- **用户接受度**：需要验证家长是否愿意使用
- **学习效果**：需要验证是否能真正提升学习效果
- **数据隐私**：需要确保学生数据安全

### 7.3 应对措施
- 建立测试数据集，持续优化识别和生成效果
- 进行用户调研，收集反馈迭代
- 遵循数据保护最佳实践

---

## 8. 后续优化方向

### 8.1 功能扩展
- 支持语音录入题目
- 支持视频讲解录制
- 支持错题分享和讨论
- 支持与学校作业系统对接
- 支持AI批改作业

### 8.2 智能化提升
- 个性化学习路径推荐
- 知识点关联分析
- 学习能力评估
- 智能出题策略优化


---

## 9. 成功指标

### 9.1 用户指标
- 错题录入量
- 用户留存率
- 功能使用率

### 9.2 学习效果指标
- 错题掌握率提升
- 练习正确率提升
- 复习完成率
- 知识点掌握度提升

---

## 附录

### A. 飞书多维表格字段详细设计
（见2.4.1节）

### B. API接口设计
（待技术方案确定后补充）

### C. 数据库设计
（如需要本地数据库，待补充）



